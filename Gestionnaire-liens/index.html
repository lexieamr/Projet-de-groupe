<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="content-type" content="text/html; charset=UTF-8">
	<link rel="stylesheet" type="text/css" href="style.css">
	
	<title>Gestionnaire d'articles</title>
	<script src='https://code.jquery.com/jquery-3.3.1.min.js'></script>
</head>

<div class="topnav">
	<a class="navbar-brand" href="#">
	<img src="/docs/4.0/assets/brand/bootstrap-solid.svg" width="30" height="30" class="d-inline-block align-top" alt="">
	LOGO
	</a>
		<div class="formulaire">
			<input id="login" type="text">
			<input id="password" type="text">
			<button id="valider">OK</button>
		</div>
</div>

<body>

		<div class="bloc_articles">

			<h2>Mes articles</h2>

			<button class="accordion">Article 1</button>
			<div class="panel">
			  <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
			</div>

			<button class="accordion">Article 2</button>
			<div class="panel">
			  <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
			</div>

			<button class="accordion">Article 3</button>
			<div class="panel">
			  <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
			</div>

		</div>

<div id="ajout_article_container">


<form id="ajout_article">

	<span> Titre de l'article : </span>
	<input type="text" id="nv_titre" placeholder="Titre">
	<br>

	<span> Article : </span>
	<textarea id="nv_article" placeholder="Article"></textarea>
	<br>

	<input type="submit" name="envoyer" value="Envoyer">

</form>

</div>


	</div>

	<script>
	$(document).ready(function(){
	var acc = document.getElementsByClassName("accordion");
	var i;

	for (i = 0; i < acc.length; i++) {
	    acc[i].addEventListener("click", function() {
	        this.classList.toggle("active");
	        var panel = this.nextElementSibling;
	        if (panel.style.display === "block") {
	            panel.style.display = "none";
	        } else {
	            panel.style.display = "block";
	        }
	    });
	}

	//ajout placeholder login
	$('#login').attr("placeholder", "Identifiant");

	//ajout placeholder passwd
	$('#password').attr("placeholder", "Mot de passe")
					.attr("type", "password");

	//écouteur pour le login/passwd
	$('#valider').click( function () {
		envoi_login ();
	});

	//écouteur pour nouvel article
	$('#ajout_article').submit( function () {
		verif_envoi_article ();
	});
});


function verif_envoi_article () {
	var titre_ajout_article = $("#nv_titre");
	var article_ajout = $("#nv_article");

	//vérification des champs
	verif_champs (titre_ajout_article,article_ajout);


//envoi des données en post
$.post( "form_article.php", { titre: titre_ajout_article.val(), article: article_ajout.val() },alert('Le nouvel article est ajouté') );
};

function envoi_login () {
	var login = $("#login");
	var password = $("#password");

	//vérification des champs
	verif_champs (login,password);


//envoi des données en post
$.post( "form_login.php", { identifiant: login.val(), mot_de_passe: password.val() });
};




//vérification de la validité des champs
function verif_champs (txt_1,txt_2) {
	if(!txt_1.val() || !txt_2.val()){
		alert("Veuillez remplir tous les champs!");
	}
};
	</script>

</body>
</html>
